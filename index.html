<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Invent√°rio Kids - DEAvila</title>

  <!-- Favicon -->
  <link rel="icon" href="public/favicon.ico" type="image/x-icon" />

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>
  <header>
    <img src="public/logo.svg" alt="Logo Invent√°rio Kids" class="logo" />
    <h1>Invent√°rio Kids</h1>
    <!-- Badge de usu√°rio/role -->
    <button id="userBadge" class="user-badge" title="Conta">
      <span class="dot visitor"></span>
      <span class="text">VISITOR</span>
    </button>
  </header>

  <main>
    <!-- Cadastro de Itens -->
    <section class="form-container">
      <h2>Cadastrar Novo Item</h2>
      <form id="itemForm">
        <input type="hidden" id="itemId" />
        <div class="input-group">
          <label for="itemName">Item:</label>
          <input type="text" id="itemName" required />
        </div>
        <div class="input-group">
          <label for="itemQuantity">Quantidade:</label>
          <input type="number" id="itemQuantity" required min="0" />
        </div>
        <div class="input-group">
          <label for="itemLocation">Local:</label>
          <input type="text" id="itemLocation" required />
        </div>

        <div class="input-group">
          <label>Foto:</label>
          <div class="photo-buttons">
            <!-- C√¢mera traseira -->
            <input type="file" id="itemPhotoCamera" accept="image/*" capture="environment" style="display:none" />
            <button type="button" id="btnUseCamera">üì∑ Usar C√¢mera</button>

            <!-- Galeria/arquivos -->
            <input type="file" id="itemPhotoGallery" accept="image/*" style="display:none" />
            <button type="button" id="btnUseGallery">üñºÔ∏è Escolher da Galeria</button>
          </div>
        </div>

        <button type="submit" id="submitButton">Cadastrar</button>
      </form>
      <p class="hint" id="visitorHint" style="display:none;">Apenas leitura para visitantes. Entre como membro/admin para cadastrar/editar/excluir.</p>
    </section>

    <!-- Lista e Busca -->
    <section class="list-container">
      <h2>Materiais Cadastrados</h2>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="üîç Buscar item..." />
      </div>
      <div id="itemList" class="item-grid"></div>

      <!-- Exporta√ß√£o -->
      <div class="export-bar">
        <button id="exportButton">üì§ Exportar para Excel</button>
      </div>
    </section>

    <!-- Painel Admin (vis√≠vel s√≥ para admin) -->
    <section id="adminPanel" class="admin-panel" style="display:none;">
      <h2>Painel Admin</h2>

      <div class="admin-actions">
        <div class="admin-add">
          <input type="email" id="newUserEmail" placeholder="email@exemplo.com" />
          <button id="addUserBtn">Adicionar como Membro</button>
        </div>
      </div>

      <div class="admin-list">
        <table class="admin-table">
          <thead>
            <tr>
              <th>Email</th>
              <th>Fun√ß√£o</th>
              <th>Criado em</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="profilesBody">
            <!-- preenchido via app.js -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Bot√£o flutuante Admin/Login -->
  <button id="fabAdmin" class="fab">Admin</button>

  <!-- Modal de Login -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <h2>Entrar</h2>
      <p>Fa√ßa login com sua conta Google.</p>
      <button id="loginButton">üîë Entrar com Google</button>
      <button id="closeModal">Cancelar</button>
    </div>
  </div>

  <!-- Modal de Sess√£o/Admin -->
  <div id="accountModal" class="modal">
    <div class="modal-content">
      <h2 id="accountTitle">Conta</h2>
      <p id="accountSubtitle"></p>
      <div class="account-buttons">
        <button id="goAdminBtn" style="display:none;">Abrir Painel Admin</button>
        <button id="logoutButton">Sair</button>
        <button id="closeAccountModal">Fechar</button>
      </div>
    </div>
  </div>

  <script src="app.js" type="module"></script>
</body>
</html>
